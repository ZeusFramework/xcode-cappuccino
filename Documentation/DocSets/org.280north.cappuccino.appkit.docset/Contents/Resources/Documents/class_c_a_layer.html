<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CPAppKit: CALayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CALayer Class Reference</h1><!-- doxytag: class="CALayer" -->
<p><a href="class_c_a_layer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ad279427de9cac2b101431f9d638b130f">init</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ab83346bff051219122826ae87b77da63">setBounds:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGRect)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3b4a675ebb6097d357586a278472483c">bounds</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a780ade74d12340c78544a200283d0e73">setPosition:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGPoint)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ad23d67f19332161b662251f45914fcd8">position</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a83df7dcca0a2a28c39fdc727049fc378">setZPosition:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3278f0312f7ab10c42f1f5b0f7d00ed8">setAnchorPoint:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGPoint)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a16eb5134e6f939626f8db2fc6859a8ee">anchorPoint</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a7f2e0ac759e3ec76d70b108761c968b8">setAffineTransform:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGAffineTransform)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a2b79a8b8f2ff2f5ffc98cb662366ebe1">affineTransform</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a29ba21b392a078fd1c0a2d1d968c4fa9">setSublayerTransform:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGAffineTransform)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a21dce1e6a753bb1a042d457052a8a765">sublayerTransform</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGAffineTransform)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3143b9efe061d28239232dd4bcdf0a36">transformToLayer</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#af2e344de4f27180679fcddce494daaef">setFrame:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGRect)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aec1346c32960eec23d6d37df877a196c">frame</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGRect)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aa4e6bccff52897b5ea719f97f661d402">backingStoreFrame</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a0487576422eaa56f1b070df34f357a55">setBackingStoreFrame:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGImage)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a9b79362a38e353ac64c338c979645e1b">contents</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a70e448233f13f081e5d4848556dda17d">setContents:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a0ca648303d1edf497cb522400afff95c">composite</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a7557b5b724e9fb8d705d9978cd31e760">display</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aae7b9db1917a37a0fbd35692276ada5a">drawInContext:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(float)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a94162c4e99563bbdc4dc1ca776bd2ab9">opacity</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a4166632f6706a9028a3a43eed9b646d1">setOpacity:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#af4d75e6699c3bc53248bc96f422de327">setHidden:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aeeda6cac50848a84b2cdbf84eaa69400">hidden</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a66a927d05868179a9c993abe50b35f96">isHidden</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3bd6c0754ecad30e49098491baa82d41">setMasksToBounds:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a48f508ebdf9fb5ecb21042d691734a62">setBackgroundColor:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="class_c_p_color.html">CPColor</a>)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ad1ae877c80904a4a727516d74755fbb2">backgroundColor</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CPArray)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a6be4902ae5344bb33854c8b2d4bea365">sublayers</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a878e05181085d8860efd761330581032">superlayer</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a95257f5a715860bcd54873ba587aa313">addSublayer:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a6f2751f0279b5cb2584f76afeaefffc2">removeFromSuperlayer</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3c7393fe4e971c94c8a3fa34de834a52">insertSublayer:atIndex:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aba70f97c973ed09c1a4d4f34093536d5">insertSublayer:below:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#afe54d7bab3347c2c4c66b634aac5c0fd">insertSublayer:above:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a9b25eaf30ce84908a46fb9e4d20bcd73">replaceSublayer:with:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aab185cf261d3daf9e101e7b787421632">registerRunLoopUpdateWithMask:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a9c0c8c3d8dceff2a9dcc8c2b671c5b05">setNeedsComposite</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3e6e077d5d09abe55d41c4a83ba958a2">setNeedsDisplay</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a23334a5dae089c3c757d2296e59a6748">setNeedsDisplayOnBoundsChange:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a56af4982ce5f2166f4d0197d993216bc">needsDisplayOnBoundsChange</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#aa35dd2b1254d2370842988a6f8198e12">setNeedsDisplayInRect:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGPoint)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a51d6f867f01acff491583d31ca58aa31">convertPoint:fromLayer:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGPoint)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#afd17be5c9be8946ce3cec5094bdc85d3">convertPoint:toLayer:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGRect)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ac02eb35f98056ecaaf29a66ad581a8c4">convertRect:fromLayer:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(CGRect)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ab3ef6728f2afc9408da351267ef975b2">convertRect:toLayer:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a3f4549769d61d6d0fe981eb9c79a617e">containsPoint:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#ac2545c848c05b2e1a1fecb0aa9d54aed">hitTest:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a6c363814185fd280be2854d98ce9a19f">setDelegate:</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_c_a_layer.html#a503336c74ba6380d15e58223c2e6287c">delegate</a><code> [implementation]</code></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="class_c_a_layer.html#a8831e6df7ac688e76e448afada8eafe6">layer</a><code> [implementation]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="class_c_a_layer.html#a8b5708ea5c69eba93e91d2104adf3789">runLoopUpdateLayers</a><code> [implementation]</code></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A <a class="el" href="class_c_a_layer.html">CALayer</a> is similar to a <a class="el" href="class_c_p_view.html">CPView</a>, but with the ability to have a transform applied to it.</p>
<p>-(void)drawLayer:(CALayer)layer inContext:(CGContextRef)ctx; If the delegate implements this method, the <a class="el" href="class_c_a_layer.html">CALayer</a> will call this in place of its <code>-drawInContext</code>:. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>layer</em>&nbsp;</td><td>the layer to draw for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>the context to draw on</td></tr>
  </table>
  </dd>
</dl>
<p>-(void)displayLayer:(CALayer)layer; The delegate can override the layer's <code>-display</code> method by implementing this method. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00067">67</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a95257f5a715860bcd54873ba587aa313"></a><!-- doxytag: member="CALayer::addSublayer:" ref="a95257f5a715860bcd54873ba587aa313" args="(CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) addSublayer: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds the specified layer as a sublayer of the receiver. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00654">654</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00654"></a>00654                    :(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00655"></a>00655 {
<a name="l00656"></a>00656     [<span class="keyword">self</span> insertSublayer:aLayer atIndex:_sublayers.length];
<a name="l00657"></a>00657     <span class="keywordflow">return</span>;
<a name="l00658"></a>00658     <a class="code" href="_c_a_layer_8j.html#a15cb1b6757121dfb227d46b0ce0f963f">ADJUST_CONTENTS_ZINDEX</a>(aLayer);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     [_sublayers addObject:aLayer];
<a name="l00661"></a>00661     _DOMElement.appendChild(<a class="code" href="_c_a_layer_8j.html#aac46d63213c27c242670119b099448c4">DOM</a>(aLayer));
<a name="l00662"></a>00662 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b79a8b8f2ff2f5ffc98cb662366ebe1"></a><!-- doxytag: member="CALayer::affineTransform" ref="a2b79a8b8f2ff2f5ffc98cb662366ebe1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGAffineTransform) affineTransform </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's affine transform. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00298">298</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00299"></a>00299 {
<a name="l00300"></a>00300     <span class="keywordflow">return</span> _affineTransform;
<a name="l00301"></a>00301 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a16eb5134e6f939626f8db2fc6859a8ee"></a><!-- doxytag: member="CALayer::anchorPoint" ref="a16eb5134e6f939626f8db2fc6859a8ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGPoint) anchorPoint </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's anchor point. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00276">276</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00277"></a>00277 {
<a name="l00278"></a>00278     <span class="keywordflow">return</span> _anchorPoint;
<a name="l00279"></a>00279 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1ae877c80904a4a727516d74755fbb2"></a><!-- doxytag: member="CALayer::backgroundColor" ref="ad1ae877c80904a4a727516d74755fbb2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="class_c_p_color.html">CPColor</a>) backgroundColor </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's background color. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00625">625</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00626"></a>00626 {
<a name="l00627"></a>00627     <span class="keywordflow">return</span> _backgroundColor;
<a name="l00628"></a>00628 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa4e6bccff52897b5ea719f97f661d402"></a><!-- doxytag: member="CALayer::backingStoreFrame" ref="aa4e6bccff52897b5ea719f97f661d402" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGRect) backingStoreFrame </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Backing Store Frame specifies the frame of the actual backing store used to contain this layer. Naturally, by default it is the same as the frame, however, users can specify their own custom Backing Store Frame in order to speed up certain operations, such as live transformation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the backing store frame </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00379">379</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00380"></a>00380 {
<a name="l00381"></a>00381     <span class="keywordflow">return</span> _backingStoreFrame;
<a name="l00382"></a>00382 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3b4a675ebb6097d357586a278472483c"></a><!-- doxytag: member="CALayer::bounds" ref="a3b4a675ebb6097d357586a278472483c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGRect) bounds </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's bound. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00208">208</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00209"></a>00209 {
<a name="l00210"></a>00210     <span class="keywordflow">return</span> _bounds;
<a name="l00211"></a>00211 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0ca648303d1edf497cb522400afff95c"></a><!-- doxytag: member="CALayer::composite" ref="a0ca648303d1edf497cb522400afff95c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) composite </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00447">447</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00448"></a>00448 {
<a name="l00449"></a>00449     <span class="keywordflow">if</span> (<a class="code" href="_c_a_layer_8j.html#af1278afeafe5ca978f308332072f9efd">USE_BUFFER</a> &amp;&amp; !_contents || !_context)
<a name="l00450"></a>00450         <span class="keywordflow">return</span>;
<a name="l00451"></a>00451     
<a name="l00452"></a>00452     <a class="code" href="_c_g_context_canvas_8j.html#ad26b22aa810370acebe12a0656b26f8d">CGContextClearRect</a>(_context, _CGRectMake(0.0, 0.0, _CGRectGetWidth(_backingStoreFrame), _CGRectGetHeight(_backingStoreFrame)));
<a name="l00453"></a>00453     
<a name="l00454"></a>00454     <span class="comment">// Recomposite</span>
<a name="l00455"></a>00455     var transform = _transformFromLayer;
<a name="l00456"></a>00456     
<a name="l00457"></a>00457     <span class="keywordflow">if</span> (_superlayer)
<a name="l00458"></a>00458     {
<a name="l00459"></a>00459         var superlayerTransform = _CALayerGetTransform(_superlayer, nil),
<a name="l00460"></a>00460             superlayerOrigin = <a class="code" href="_c_g_affine_transform_8j.html#ab2e1fbd101ea6fc5c3d4cff1f59d7e36">CGPointApplyAffineTransform</a>(_superlayer._bounds.origin, superlayerTransform);
<a name="l00461"></a>00461         
<a name="l00462"></a>00462         transform = <a class="code" href="_c_g_affine_transform_8j.html#af365049e43d927195c26bd0352a1116f">CGAffineTransformConcat</a>(transform, superlayerTransform);
<a name="l00463"></a>00463         
<a name="l00464"></a>00464         transform.tx -= superlayerOrigin.x;
<a name="l00465"></a>00465         transform.ty -= superlayerOrigin.y;
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468     transform.tx -= _CGRectGetMinX(_backingStoreFrame);
<a name="l00469"></a>00469     transform.ty -= _CGRectGetMinY(_backingStoreFrame);
<a name="l00470"></a>00470     
<a name="l00471"></a>00471     <a class="code" href="group__coregraphics.html#ga3044141e2efee5c87c2d2cf7a034442d">CGContextSaveGState</a>(_context);
<a name="l00472"></a>00472     <a class="code" href="group__coregraphics.html#ga0f2dc89da432a179558067fd023a9315">CGContextConcatCTM</a>(_context, transform);<span class="comment">//_transformFromView);</span>
<a name="l00473"></a>00473     <span class="keywordflow">if</span> (<a class="code" href="_c_a_layer_8j.html#af1278afeafe5ca978f308332072f9efd">USE_BUFFER</a>)
<a name="l00474"></a>00474     {
<a name="l00475"></a>00475 <span class="comment">//        CGContextDrawImage(_context, _bounds, _contents.context);</span>
<a name="l00476"></a>00476         _context.drawImage(_contents.buffer, _CGRectGetMinX(_bounds), _CGRectGetMinY(_bounds));<span class="comment">//, _CGRectGetWidth(_standardBackingStoreFrame), _CGRectGetHeight(_standardBackingStoreFrame));</span>
<a name="l00477"></a>00477     }
<a name="l00478"></a>00478     <span class="keywordflow">else</span>
<a name="l00479"></a>00479         [<span class="keyword">self</span> drawInContext:_context];
<a name="l00480"></a>00480     <a class="code" href="group__coregraphics.html#ga017455e56ea37b37ba671c0443764576">CGContextRestoreGState</a>(_context);
<a name="l00481"></a>00481 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f4549769d61d6d0fe981eb9c79a617e"></a><!-- doxytag: member="CALayer::containsPoint:" ref="a3f4549769d61d6d0fe981eb9c79a617e" args="(CGPoint aPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) containsPoint: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>aPoint</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns <code>YES</code> if the layer contains the point. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aPoint</em>&nbsp;</td><td>the point to test </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00912">912</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00912"></a>00912                      :(CGPoint)aPoint
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914     <span class="keywordflow">return</span> _CGRectContainsPoint(_bounds, aPoint);
<a name="l00915"></a>00915 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9b79362a38e353ac64c338c979645e1b"></a><!-- doxytag: member="CALayer::contents" ref="a9b79362a38e353ac64c338c979645e1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGImage) contents </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the CGImage contents of this layer. The default contents are <code>nil</code>. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00424">424</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00425"></a>00425 {
<a name="l00426"></a>00426     <span class="keywordflow">return</span> _contents;
<a name="l00427"></a>00427 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a51d6f867f01acff491583d31ca58aa31"></a><!-- doxytag: member="CALayer::convertPoint:fromLayer:" ref="a51d6f867f01acff491583d31ca58aa31" args="(CGPoint aPoint,[fromLayer] CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGPoint) convertPoint: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>aPoint</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromLayer:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the point from the specified layer's coordinate system into the receiver's coordinate system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aPoint</em>&nbsp;</td><td>the point to convert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer coordinate system to convert from </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted point </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00869">869</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00869"></a>00869                        :(CGPoint)aPoint fromLayer:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00870"></a>00870 {
<a name="l00871"></a>00871     <span class="keywordflow">return</span> <a class="code" href="_c_g_affine_transform_8j.html#ab2e1fbd101ea6fc5c3d4cff1f59d7e36">CGPointApplyAffineTransform</a>(aPoint, _CALayerGetTransform(aLayer, <span class="keyword">self</span>));
<a name="l00872"></a>00872 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afd17be5c9be8946ce3cec5094bdc85d3"></a><!-- doxytag: member="CALayer::convertPoint:toLayer:" ref="afd17be5c9be8946ce3cec5094bdc85d3" args="(CGPoint aPoint,[toLayer] CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGPoint) convertPoint: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>aPoint</em></td>
        </tr>
        <tr>
          <td class="paramkey">toLayer:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the point from the receiver's coordinate system to the specified layer's coordinate system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aPoint</em>&nbsp;</td><td>the point to convert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer coordinate system to convert to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted point </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00880">880</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00880"></a>00880                        :(CGPoint)aPoint toLayer:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00881"></a>00881 {
<a name="l00882"></a>00882     <span class="keywordflow">return</span> <a class="code" href="_c_g_affine_transform_8j.html#ab2e1fbd101ea6fc5c3d4cff1f59d7e36">CGPointApplyAffineTransform</a>(aPoint, _CALayerGetTransform(<span class="keyword">self</span>, aLayer));
<a name="l00883"></a>00883 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac02eb35f98056ecaaf29a66ad581a8c4"></a><!-- doxytag: member="CALayer::convertRect:fromLayer:" ref="ac02eb35f98056ecaaf29a66ad581a8c4" args="(CGRect aRect,[fromLayer] CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGRect) convertRect: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aRect</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromLayer:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the rectangle from the specified layer's coordinate system to the receiver's coordinate system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aRect</em>&nbsp;</td><td>the rectangle to convert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer coordinate system to convert from </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted rectangle </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00891">891</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00891"></a>00891                      :(CGRect)aRect fromLayer:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00892"></a>00892 {
<a name="l00893"></a>00893     <span class="keywordflow">return</span> <a class="code" href="_c_g_affine_transform_8j.html#aa2cac55239f169c578848a871f67fcb2">CGRectApplyAffineTransform</a>(aRect, _CALayerGetTransform(aLayer, <span class="keyword">self</span>));
<a name="l00894"></a>00894 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab3ef6728f2afc9408da351267ef975b2"></a><!-- doxytag: member="CALayer::convertRect:toLayer:" ref="ab3ef6728f2afc9408da351267ef975b2" args="(CGRect aRect,[toLayer] CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGRect) convertRect: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aRect</em></td>
        </tr>
        <tr>
          <td class="paramkey">toLayer:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the rectangle from the receier's coordinate system to the specified layer's coordinate system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aRect</em>&nbsp;</td><td>the rectange to convert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer coordinate system to convert to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted rectangle </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00902">902</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00902"></a>00902                      :(CGRect)aRect toLayer:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00903"></a>00903 {
<a name="l00904"></a>00904     <span class="keywordflow">return</span> <a class="code" href="_c_g_affine_transform_8j.html#aa2cac55239f169c578848a871f67fcb2">CGRectApplyAffineTransform</a>(aRect, _CALayerGetTransform(<span class="keyword">self</span>, aLayer));
<a name="l00905"></a>00905 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a503336c74ba6380d15e58223c2e6287c"></a><!-- doxytag: member="CALayer::delegate" ref="a503336c74ba6380d15e58223c2e6287c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) delegate </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's delegate </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00966">966</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00967"></a>00967 {
<a name="l00968"></a>00968     <span class="keywordflow">return</span> _delegate;
<a name="l00969"></a>00969 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7557b5b724e9fb8d705d9978cd31e760"></a><!-- doxytag: member="CALayer::display" ref="a7557b5b724e9fb8d705d9978cd31e760" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) display </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Displays the contents of this layer. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00486">486</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00487"></a>00487 {
<a name="l00488"></a>00488     <span class="keywordflow">if</span> (!_context)
<a name="l00489"></a>00489     {
<a name="l00490"></a>00490         _context = <a class="code" href="group__coregraphics.html#ga792b63f505ae560e354bdd49de62307c">CGBitmapGraphicsContextCreate</a>();
<a name="l00491"></a>00491         
<a name="l00492"></a>00492         _DOMContentsElement = _context.DOMElement;
<a name="l00493"></a>00493         
<a name="l00494"></a>00494         _DOMContentsElement.style.zIndex = -100;
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         _DOMContentsElement.style.overflow = <span class="stringliteral">&quot;hidden&quot;</span>;
<a name="l00497"></a>00497         _DOMContentsElement.style.position = <span class="stringliteral">&quot;absolute&quot;</span>;
<a name="l00498"></a>00498         _DOMContentsElement.style.visibility = <span class="stringliteral">&quot;visible&quot;</span>;
<a name="l00499"></a>00499         
<a name="l00500"></a>00500         _DOMContentsElement.width = ROUND(_CGRectGetWidth(_backingStoreFrame));
<a name="l00501"></a>00501         _DOMContentsElement.height = ROUND(_CGRectGetHeight(_backingStoreFrame));
<a name="l00502"></a>00502         
<a name="l00503"></a>00503         _DOMContentsElement.style.top = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00504"></a>00504         _DOMContentsElement.style.left = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00505"></a>00505         _DOMContentsElement.style.width = ROUND(_CGRectGetWidth(_backingStoreFrame)) + <span class="stringliteral">&quot;px&quot;</span>;
<a name="l00506"></a>00506         _DOMContentsElement.style.height = ROUND(_CGRectGetHeight(_backingStoreFrame)) + <span class="stringliteral">&quot;px&quot;</span>;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508         _DOMElement.appendChild(_DOMContentsElement);
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510     
<a name="l00511"></a>00511     <span class="keywordflow">if</span> (<a class="code" href="_c_a_layer_8j.html#af1278afeafe5ca978f308332072f9efd">USE_BUFFER</a>)
<a name="l00512"></a>00512     {
<a name="l00513"></a>00513         <span class="keywordflow">if</span> (_delegateRespondsToDisplayLayerSelector)
<a name="l00514"></a>00514             <span class="keywordflow">return</span> [_delegate displayInLayer:<span class="keyword">self</span>];
<a name="l00515"></a>00515     
<a name="l00516"></a>00516         <span class="keywordflow">if</span> (_CGRectGetWidth(_backingStoreFrame) == 0.0 || _CGRectGetHeight(_backingStoreFrame) == 0.0)
<a name="l00517"></a>00517             <span class="keywordflow">return</span>;
<a name="l00518"></a>00518     
<a name="l00519"></a>00519         <span class="keywordflow">if</span> (!_contents)
<a name="l00520"></a>00520             _contents = CABackingStoreCreate();
<a name="l00521"></a>00521     
<a name="l00522"></a>00522         CABackingStoreSetSize(_contents, _bounds.size);
<a name="l00523"></a>00523             
<a name="l00524"></a>00524         [<span class="keyword">self</span> drawInContext:<a class="code" href="_c_a_backing_store_8j.html#aa4548a0fd3852c314fdb3e21aa0aa897">CABackingStoreGetContext</a>(_contents)];
<a name="l00525"></a>00525     }
<a name="l00526"></a>00526         
<a name="l00527"></a>00527     [<span class="keyword">self</span> <a class="code" href="class_c_a_layer.html#a0ca648303d1edf497cb522400afff95c">composite</a>];
<a name="l00528"></a>00528 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae7b9db1917a37a0fbd35692276ada5a"></a><!-- doxytag: member="CALayer::drawInContext:" ref="aae7b9db1917a37a0fbd35692276ada5a" args="(CGContext aContext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) drawInContext: </td>
          <td></td>
          <td class="paramtype">(CGContext)&nbsp;</td>
          <td class="paramname"> <em>aContext</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Draws this layer's contents into the specified context. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aContext</em>&nbsp;</td><td>the context to draw the layer into </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00534">534</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00534"></a>00534                      :(CGContext)aContext
<a name="l00535"></a>00535 {   <span class="comment">//if (!window.loop || window.nodisplay) CPLog.error(&quot;htiasd&quot;);</span>
<a name="l00536"></a>00536     <span class="keywordflow">if</span> (_backgroundColor)
<a name="l00537"></a>00537     {
<a name="l00538"></a>00538         <a class="code" href="group__coregraphics.html#ga800a3e5b0c46359d28b091376630bb0e">CGContextSetFillColor</a>(aContext, _backgroundColor);
<a name="l00539"></a>00539         <a class="code" href="group__coregraphics.html#ga74c13e165c00cc434a54bb8c2148e1ba">CGContextFillRect</a>(aContext, _bounds);
<a name="l00540"></a>00540     }
<a name="l00541"></a>00541     
<a name="l00542"></a>00542     <span class="keywordflow">if</span> (_delegateRespondsToDrawLayerInContextSelector)
<a name="l00543"></a>00543         [_delegate drawLayer:<span class="keyword">self</span> inContext:aContext];
<a name="l00544"></a>00544 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aec1346c32960eec23d6d37df877a196c"></a><!-- doxytag: member="CALayer::frame" ref="aec1346c32960eec23d6d37df877a196c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGRect) frame </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's frame.</p>
<p>The frame defines the bounding box of the layer: the smallest possible rectangle that could fit this layer after transform properties are applied in superlayer coordinates. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00363">363</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00364"></a>00364 {
<a name="l00365"></a>00365     <span class="keywordflow">if</span> (!_frame)
<a name="l00366"></a>00366         _frame = [<span class="keyword">self</span> convertRect:_bounds toLayer:_superlayer];
<a name="l00367"></a>00367     
<a name="l00368"></a>00368     <span class="keywordflow">return</span> _frame;
<a name="l00369"></a>00369 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeeda6cac50848a84b2cdbf84eaa69400"></a><!-- doxytag: member="CALayer::hidden" ref="aeeda6cac50848a84b2cdbf84eaa69400" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) hidden </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns <code>YES</code> if the layer is hidden. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00585">585</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00586"></a>00586 {
<a name="l00587"></a>00587     <span class="keywordflow">return</span> _isHidden;
<a name="l00588"></a>00588 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac2545c848c05b2e1a1fecb0aa9d54aed"></a><!-- doxytag: member="CALayer::hitTest:" ref="ac2545c848c05b2e1a1fecb0aa9d54aed" args="(CGPoint aPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="class_c_a_layer.html">CALayer</a>) hitTest: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>aPoint</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the farthest descendant of this layer that contains the specified point. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aPoint</em>&nbsp;</td><td>the point to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the containing layer or <code>nil</code> if there was no hit. </dd></dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00922">922</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00922"></a>00922                   :(CGPoint)aPoint
<a name="l00923"></a>00923 {
<a name="l00924"></a>00924     <span class="keywordflow">if</span> (_isHidden)
<a name="l00925"></a>00925         <span class="keywordflow">return</span> nil;
<a name="l00926"></a>00926     
<a name="l00927"></a>00927     var point = <a class="code" href="_c_g_affine_transform_8j.html#ab2e1fbd101ea6fc5c3d4cff1f59d7e36">CGPointApplyAffineTransform</a>(aPoint, _transformToLayer);
<a name="l00928"></a>00928     <span class="comment">//alert(point.x + &quot; &quot; + point.y);</span>
<a name="l00929"></a>00929     
<a name="l00930"></a>00930     <span class="keywordflow">if</span> (!_CGRectContainsPoint(_bounds, point))
<a name="l00931"></a>00931         <span class="keywordflow">return</span> nil;
<a name="l00932"></a>00932     
<a name="l00933"></a>00933     var <a class="code" href="class_c_a_layer.html#a8831e6df7ac688e76e448afada8eafe6">layer</a> = nil,
<a name="l00934"></a>00934         index = _sublayers.length;
<a name="l00935"></a>00935     
<a name="l00936"></a>00936     <span class="comment">// FIXME: this should take into account zPosition.</span>
<a name="l00937"></a>00937     <span class="keywordflow">while</span> (index--)
<a name="l00938"></a>00938         <span class="keywordflow">if</span> (layer = [_sublayers[index] hitTest:point])
<a name="l00939"></a>00939             <span class="keywordflow">return</span> layer;
<a name="l00940"></a>00940             
<a name="l00941"></a>00941     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00942"></a>00942 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad279427de9cac2b101431f9d638b130f"></a><!-- doxytag: member="CALayer::init" ref="ad279427de9cac2b101431f9d638b130f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) init </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the animation layer. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00133">133</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00134"></a>00134 {
<a name="l00135"></a>00135     <span class="keyword">self</span> = [super <a class="code" href="class_c_a_layer.html#ad279427de9cac2b101431f9d638b130f">init</a>];
<a name="l00136"></a>00136     
<a name="l00137"></a>00137     <span class="keywordflow">if</span> (<span class="keyword">self</span>)
<a name="l00138"></a>00138     {
<a name="l00139"></a>00139         _frame = <a class="code" href="_c_g_geometry_8j.html#aaab3ca5ef295a8517c18bfce6e95c1f6">CGRectMakeZero</a>();
<a name="l00140"></a>00140         
<a name="l00141"></a>00141         _backingStoreFrame = <a class="code" href="_c_g_geometry_8j.html#aaab3ca5ef295a8517c18bfce6e95c1f6">CGRectMakeZero</a>();
<a name="l00142"></a>00142         _standardBackingStoreFrame = <a class="code" href="_c_g_geometry_8j.html#aaab3ca5ef295a8517c18bfce6e95c1f6">CGRectMakeZero</a>();
<a name="l00143"></a>00143         
<a name="l00144"></a>00144         _bounds = <a class="code" href="_c_g_geometry_8j.html#aaab3ca5ef295a8517c18bfce6e95c1f6">CGRectMakeZero</a>();
<a name="l00145"></a>00145         _position = <a class="code" href="_c_g_geometry_8j.html#a708f763d0feefd3056965f041c3c2cb2">CGPointMakeZero</a>();
<a name="l00146"></a>00146         _zPosition = 0.0;
<a name="l00147"></a>00147         _anchorPoint = <a class="code" href="_c_g_geometry_8j.html#a06c96cb5931220da52ff44b8ce9b603e">CGPointMake</a>(0.5, 0.5);
<a name="l00148"></a>00148         _affineTransform = <a class="code" href="_c_g_affine_transform_8j.html#a072cf7a76d169af4182cf37674381d04">CGAffineTransformMakeIdentity</a>();
<a name="l00149"></a>00149         _sublayerTransform = <a class="code" href="_c_g_affine_transform_8j.html#a072cf7a76d169af4182cf37674381d04">CGAffineTransformMakeIdentity</a>();
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         _transformToLayer = <a class="code" href="_c_g_affine_transform_8j.html#a072cf7a76d169af4182cf37674381d04">CGAffineTransformMakeIdentity</a>(); <span class="comment">// FIXME? does it matter?</span>
<a name="l00152"></a>00152         _transformFromLayer = <a class="code" href="_c_g_affine_transform_8j.html#a072cf7a76d169af4182cf37674381d04">CGAffineTransformMakeIdentity</a>();
<a name="l00153"></a>00153         
<a name="l00154"></a>00154         _opacity = 1.0;
<a name="l00155"></a>00155         _isHidden = NO;
<a name="l00156"></a>00156         _masksToBounds = NO;
<a name="l00157"></a>00157         
<a name="l00158"></a>00158         _sublayers = [];
<a name="l00159"></a>00159         
<a name="l00160"></a>00160         _DOMElement = document.createElement(<span class="stringliteral">&quot;div&quot;</span>);
<a name="l00161"></a>00161         
<a name="l00162"></a>00162         _DOMElement.style.overflow = <span class="stringliteral">&quot;visible&quot;</span>;
<a name="l00163"></a>00163         _DOMElement.style.position = <span class="stringliteral">&quot;absolute&quot;</span>;
<a name="l00164"></a>00164         _DOMElement.style.visibility = <span class="stringliteral">&quot;visible&quot;</span>;
<a name="l00165"></a>00165         _DOMElement.style.top = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00166"></a>00166         _DOMElement.style.left = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00167"></a>00167         _DOMElement.style.zIndex = 0;
<a name="l00168"></a>00168         _DOMElement.style.width = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00169"></a>00169         _DOMElement.style.height = <span class="stringliteral">&quot;0px&quot;</span>;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171     
<a name="l00172"></a>00172     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00173"></a>00173 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe54d7bab3347c2c4c66b634aac5c0fd"></a><!-- doxytag: member="CALayer::insertSublayer:above:" ref="afe54d7bab3347c2c4c66b634aac5c0fd" args="(CALayer aLayer,[above] CALayer aSublayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) insertSublayer: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td>
        </tr>
        <tr>
          <td class="paramkey">above:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aSublayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a layer above another layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aSublayer</em>&nbsp;</td><td>the layer to insert above </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CALayerNotFoundException</em>&nbsp;</td><td>if <code>aSublayer</code> is not in the array of sublayers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00742">742</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00742"></a>00742                       :(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer above:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aSublayer
<a name="l00743"></a>00743 {
<a name="l00744"></a>00744     var index = aSublayer ? [_sublayers indexOfObjectIdenticalTo:aSublayer] : _sublayers.length;
<a name="l00745"></a>00745     <span class="keywordflow">if</span> (index == CPNotFound)
<a name="l00746"></a>00746         [CPException <span class="keyword">raise</span>:<span class="stringliteral">&quot;CALayerNotFoundException&quot;</span> reason:<span class="stringliteral">&quot;aSublayer is not a sublayer of this layer&quot;</span>];
<a name="l00747"></a>00747 
<a name="l00748"></a>00748     [_sublayers insertObject:aLayer atIndex:index == CPNotFound ? _sublayers.length : index + 1];
<a name="l00749"></a>00749 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3c7393fe4e971c94c8a3fa34de834a52"></a><!-- doxytag: member="CALayer::insertSublayer:atIndex:" ref="a3c7393fe4e971c94c8a3fa34de834a52" args="(CALayer aLayer,[atIndex] unsigned anIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) insertSublayer: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td>
        </tr>
        <tr>
          <td class="paramkey">atIndex:</td>
          <td></td>
          <td class="paramtype">(unsigned)&nbsp;</td>
          <td class="paramname"> <em>anIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts the specified layer as a sublayer into the specified index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>anIndex</em>&nbsp;</td><td>the index to insert the layer at </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00686">686</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00686"></a>00686                       :(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer atIndex:(<span class="keywordtype">unsigned</span>)anIndex
<a name="l00687"></a>00687 {
<a name="l00688"></a>00688     <span class="keywordflow">if</span> (!aLayer)
<a name="l00689"></a>00689         <span class="keywordflow">return</span>;
<a name="l00690"></a>00690     
<a name="l00691"></a>00691     var <a class="code" href="class_c_a_layer.html#a878e05181085d8860efd761330581032">superlayer</a> = [aLayer superlayer];
<a name="l00692"></a>00692     
<a name="l00693"></a>00693     <span class="keywordflow">if</span> (superlayer == <span class="keyword">self</span>)
<a name="l00694"></a>00694     {
<a name="l00695"></a>00695         var index = [_sublayers indexOfObjectIdenticalTo:aLayer];
<a name="l00696"></a>00696 
<a name="l00697"></a>00697         <span class="keywordflow">if</span> (index == anIndex)
<a name="l00698"></a>00698             <span class="keywordflow">return</span>;
<a name="l00699"></a>00699     
<a name="l00700"></a>00700         [_sublayers removeObjectAtIndex:index];
<a name="l00701"></a>00701         
<a name="l00702"></a>00702         <span class="keywordflow">if</span> (index &lt; anIndex)
<a name="l00703"></a>00703             --anIndex;
<a name="l00704"></a>00704     }
<a name="l00705"></a>00705     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (superlayer != nil)
<a name="l00706"></a>00706         [aLayer <a class="code" href="class_c_a_layer.html#a6f2751f0279b5cb2584f76afeaefffc2">removeFromSuperlayer</a>];
<a name="l00707"></a>00707     
<a name="l00708"></a>00708     <a class="code" href="_c_a_layer_8j.html#a15cb1b6757121dfb227d46b0ce0f963f">ADJUST_CONTENTS_ZINDEX</a>(aLayer);
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     [_sublayers insertObject:aLayer atIndex:anIndex];
<a name="l00711"></a>00711 
<a name="l00712"></a>00712     <span class="keywordflow">if</span> (anIndex &gt;= _sublayers.length - 1)
<a name="l00713"></a>00713         _DOMElement.appendChild(<a class="code" href="_c_a_layer_8j.html#aac46d63213c27c242670119b099448c4">DOM</a>(aLayer));
<a name="l00714"></a>00714     <span class="keywordflow">else</span>
<a name="l00715"></a>00715         _DOMElement.insertBefore(<a class="code" href="_c_a_layer_8j.html#aac46d63213c27c242670119b099448c4">DOM</a>(aLayer), _sublayers[anIndex + 1]._DOMElement);
<a name="l00716"></a>00716         
<a name="l00717"></a>00717     aLayer._superlayer = <span class="keyword">self</span>;
<a name="l00718"></a>00718     
<a name="l00719"></a>00719     <span class="keywordflow">if</span> (<span class="keyword">self</span> != superlayer)
<a name="l00720"></a>00720         _CALayerRecalculateGeometry(aLayer, 0xFFFFFFF);
<a name="l00721"></a>00721 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aba70f97c973ed09c1a4d4f34093536d5"></a><!-- doxytag: member="CALayer::insertSublayer:below:" ref="aba70f97c973ed09c1a4d4f34093536d5" args="(CALayer aLayer,[below] CALayer aSublayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) insertSublayer: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td>
        </tr>
        <tr>
          <td class="paramkey">below:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aSublayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a layer below another layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aSublayer</em>&nbsp;</td><td>the layer to insert below </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CALayerNotFoundException</em>&nbsp;</td><td>if <code>aSublayer</code> is not in the array of sublayers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00729">729</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00729"></a>00729                       :(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer below:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aSublayer
<a name="l00730"></a>00730 {
<a name="l00731"></a>00731     var index = aSublayer ? [_sublayers indexOfObjectIdenticalTo:aSublayer] : 0;
<a name="l00732"></a>00732     
<a name="l00733"></a>00733     [<span class="keyword">self</span> insertSublayer:aLayer atIndex:index == CPNotFound ? _sublayers.length : index];
<a name="l00734"></a>00734 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a66a927d05868179a9c993abe50b35f96"></a><!-- doxytag: member="CALayer::isHidden" ref="a66a927d05868179a9c993abe50b35f96" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isHidden </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns <code>YES</code> if the layer is hidden. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00593">593</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00594"></a>00594 {
<a name="l00595"></a>00595     <span class="keywordflow">return</span> _isHidden;
<a name="l00596"></a>00596 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8831e6df7ac688e76e448afada8eafe6"></a><!-- doxytag: member="CALayer::layer" ref="a8831e6df7ac688e76e448afada8eafe6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="class_c_a_layer.html">CALayer</a>) layer </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a new animation layer. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00125">125</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00126"></a>00126 {
<a name="l00127"></a>00127     <span class="keywordflow">return</span> [[[<span class="keyword">self</span> <span class="keyword">class</span>] alloc] <a class="code" href="class_c_a_layer.html#ad279427de9cac2b101431f9d638b130f">init</a>];
<a name="l00128"></a>00128 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a56af4982ce5f2166f4d0197d993216bc"></a><!-- doxytag: member="CALayer::needsDisplayOnBoundsChange" ref="a56af4982ce5f2166f4d0197d993216bc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) needsDisplayOnBoundsChange </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns <code>YES</code> if the display should be redrawn on a bounds change. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00847">847</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00848"></a>00848 {
<a name="l00849"></a>00849     <span class="keywordflow">return</span> _needsDisplayOnBoundsChange;
<a name="l00850"></a>00850 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a94162c4e99563bbdc4dc1ca776bd2ab9"></a><!-- doxytag: member="CALayer::opacity" ref="a94162c4e99563bbdc4dc1ca776bd2ab9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (float) opacity </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the opacity of the layer. The value is between <code>0.0</code> (transparent) and <code>1.0</code> (opaque). </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00552">552</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00553"></a>00553 {
<a name="l00554"></a>00554     <span class="keywordflow">return</span> _opacity;
<a name="l00555"></a>00555 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad23d67f19332161b662251f45914fcd8"></a><!-- doxytag: member="CALayer::position" ref="ad23d67f19332161b662251f45914fcd8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGPoint) position </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the layer's position </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00230">230</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00231"></a>00231 {
<a name="l00232"></a>00232     <span class="keywordflow">return</span> _position;
<a name="l00233"></a>00233 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab185cf261d3daf9e101e7b787421632"></a><!-- doxytag: member="CALayer::registerRunLoopUpdateWithMask:" ref="aab185cf261d3daf9e101e7b787421632" args="(unsigned anUpdateMask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) registerRunLoopUpdateWithMask: </td>
          <td></td>
          <td class="paramtype">(unsigned)&nbsp;</td>
          <td class="paramname"> <em>anUpdateMask</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00805">805</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00805"></a>00805                                      :(unsigned)anUpdateMask
<a name="l00806"></a>00806 {
<a name="l00807"></a>00807     <span class="keywordflow">if</span> (<a class="code" href="_c_a_layer_8j.html#aa5c21f4390935ff640bffb4758e73603">CALayerRegisteredRunLoopUpdates</a> == nil)
<a name="l00808"></a>00808     {
<a name="l00809"></a>00809         <a class="code" href="_c_a_layer_8j.html#aa5c21f4390935ff640bffb4758e73603">CALayerRegisteredRunLoopUpdates</a> = {};
<a name="l00810"></a>00810         
<a name="l00811"></a>00811         [[CPRunLoop currentRunLoop] performSelector:<span class="keyword">@selector</span>(<a class="code" href="class_c_a_layer.html#a8b5708ea5c69eba93e91d2104adf3789">runLoopUpdateLayers</a>)
<a name="l00812"></a>00812             target:<a class="code" href="class_c_a_layer.html">CALayer</a> argument:nil order:0 modes:[CPDefaultRunLoopMode]];
<a name="l00813"></a>00813     }
<a name="l00814"></a>00814     
<a name="l00815"></a>00815     _runLoopUpdateMask |= anUpdateMask;
<a name="l00816"></a>00816     <a class="code" href="_c_a_layer_8j.html#aa5c21f4390935ff640bffb4758e73603">CALayerRegisteredRunLoopUpdates</a>[[<span class="keyword">self</span> UID]] = <span class="keyword">self</span>;
<a name="l00817"></a>00817 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6f2751f0279b5cb2584f76afeaefffc2"></a><!-- doxytag: member="CALayer::removeFromSuperlayer" ref="a6f2751f0279b5cb2584f76afeaefffc2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeFromSuperlayer </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the receiver from its superlayer. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00667">667</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00668"></a>00668 {
<a name="l00669"></a>00669     <span class="keywordflow">if</span> (_owningView)
<a name="l00670"></a>00670         [_owningView setLayer:nil];
<a name="l00671"></a>00671     
<a name="l00672"></a>00672     <span class="keywordflow">if</span> (!_superlayer)
<a name="l00673"></a>00673         <span class="keywordflow">return</span>;
<a name="l00674"></a>00674         
<a name="l00675"></a>00675     _superlayer._DOMElement.removeChild(_DOMElement);
<a name="l00676"></a>00676     [_superlayer._sublayers removeObject:<span class="keyword">self</span>];
<a name="l00677"></a>00677 
<a name="l00678"></a>00678     _superlayer = nil;
<a name="l00679"></a>00679 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9b25eaf30ce84908a46fb9e4d20bcd73"></a><!-- doxytag: member="CALayer::replaceSublayer:with:" ref="a9b25eaf30ce84908a46fb9e4d20bcd73" args="(CALayer aSublayer,[with] CALayer aLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) replaceSublayer: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aSublayer</em></td>
        </tr>
        <tr>
          <td class="paramkey">with:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_a_layer.html">CALayer</a>)&nbsp;</td>
          <td class="paramname"> <em>aLayer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Replaces a sublayer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aSublayer</em>&nbsp;</td><td>the layer to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aLayer</em>&nbsp;</td><td>the layer to replace </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00756">756</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00756"></a>00756                        :(<a class="code" href="class_c_a_layer.html">CALayer</a>)aSublayer with:(<a class="code" href="class_c_a_layer.html">CALayer</a>)aLayer
<a name="l00757"></a>00757 {
<a name="l00758"></a>00758     <span class="keywordflow">if</span> (aSublayer == aLayer)
<a name="l00759"></a>00759         <span class="keywordflow">return</span>;
<a name="l00760"></a>00760     
<a name="l00761"></a>00761     <span class="comment">// FIXME: EXCEPTION</span>
<a name="l00762"></a>00762     <span class="keywordflow">if</span> (aSublayer._superlayer != <span class="keyword">self</span>)
<a name="l00763"></a>00763     {
<a name="l00764"></a>00764         alert(<span class="stringliteral">&quot;EXCEPTION&quot;</span>);
<a name="l00765"></a>00765         <span class="keywordflow">return</span>;
<a name="l00766"></a>00766     }
<a name="l00767"></a>00767     
<a name="l00768"></a>00768     <a class="code" href="_c_a_layer_8j.html#a15cb1b6757121dfb227d46b0ce0f963f">ADJUST_CONTENTS_ZINDEX</a>(aLayer);
<a name="l00769"></a>00769     
<a name="l00770"></a>00770     [_sublayers replaceObjectAtIndex:[_sublayers indexOfObjectIdenticalTo:aSublayer] withObject:aLayer];
<a name="l00771"></a>00771     _DOMElement.replaceChild(<a class="code" href="_c_a_layer_8j.html#aac46d63213c27c242670119b099448c4">DOM</a>(aSublayer), <a class="code" href="_c_a_layer_8j.html#aac46d63213c27c242670119b099448c4">DOM</a>(aLayer));
<a name="l00772"></a>00772 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b5708ea5c69eba93e91d2104adf3789"></a><!-- doxytag: member="CALayer::runLoopUpdateLayers" ref="a8b5708ea5c69eba93e91d2104adf3789" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) runLoopUpdateLayers </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00779">779</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00780"></a>00780 {<span class="keywordflow">if</span> (window.oops) {alert(window.latest); objj_debug_print_backtrace();}
<a name="l00781"></a>00781     window.loop = <span class="keyword">true</span>;
<a name="l00782"></a>00782     <span class="keywordflow">for</span> (UID in <a class="code" href="_c_a_layer_8j.html#aa5c21f4390935ff640bffb4758e73603">CALayerRegisteredRunLoopUpdates</a>)
<a name="l00783"></a>00783     {
<a name="l00784"></a>00784         var <a class="code" href="class_c_a_layer.html#a8831e6df7ac688e76e448afada8eafe6">layer</a> = CALayerRegisteredRunLoopUpdates[UID],
<a name="l00785"></a>00785             mask = layer._runLoopUpdateMask;
<a name="l00786"></a>00786 
<a name="l00787"></a>00787         <span class="keywordflow">if</span> (mask &amp; <a class="code" href="_c_a_layer_8j.html#a13368e69c48203d60d0e8eba3a151791">CALayerDOMUpdateMask</a>)
<a name="l00788"></a>00788             _CALayerUpdateDOM(layer, mask);
<a name="l00789"></a>00789         
<a name="l00790"></a>00790         <span class="keywordflow">if</span> (mask &amp; <a class="code" href="_c_a_layer_8j.html#aea3fa0c520450b903260bc7d7d91e873">CALayerDisplayUpdateMask</a>)
<a name="l00791"></a>00791             [layer <a class="code" href="class_c_a_layer.html#a7557b5b724e9fb8d705d9978cd31e760">display</a>];
<a name="l00792"></a>00792         
<a name="l00793"></a>00793         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mask &amp; <a class="code" href="_c_a_layer_8j.html#a59e67f97b348d19a1eedb5fc71c97132">CALayerFrameSizeUpdateMask</a> || mask &amp; <a class="code" href="_c_a_layer_8j.html#a0d8d5fbf9708caaee8b1b1147e7ed988">CALayerCompositeUpdateMask</a>)
<a name="l00794"></a>00794             [layer <a class="code" href="class_c_a_layer.html#a0ca648303d1edf497cb522400afff95c">composite</a>];
<a name="l00795"></a>00795             
<a name="l00796"></a>00796         layer._runLoopUpdateMask = 0;
<a name="l00797"></a>00797     }
<a name="l00798"></a>00798     window.loop= <span class="keyword">false</span>;
<a name="l00799"></a>00799     CALayerRegisteredRunLoopUpdates = nil;
<a name="l00800"></a>00800 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7f2e0ac759e3ec76d70b108761c968b8"></a><!-- doxytag: member="CALayer::setAffineTransform:" ref="a7f2e0ac759e3ec76d70b108761c968b8" args="(CGAffineTransform anAffineTransform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setAffineTransform: </td>
          <td></td>
          <td class="paramtype">(CGAffineTransform)&nbsp;</td>
          <td class="paramname"> <em>anAffineTransform</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the affine transform applied to this layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>anAffineTransform</em>&nbsp;</td><td>the new affine transform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00285">285</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00285"></a>00285                           :(CGAffineTransform)anAffineTransform
<a name="l00286"></a>00286 {
<a name="l00287"></a>00287     <span class="keywordflow">if</span> (<a class="code" href="_c_g_affine_transform_8j.html#a13fc4eb44a96f08f758b22b47be24224">CGAffineTransformEqualToTransform</a>(_affineTransform, anAffineTransform))
<a name="l00288"></a>00288         <span class="keywordflow">return</span>;
<a name="l00289"></a>00289     
<a name="l00290"></a>00290     _affineTransform = _CGAffineTransformMakeCopy(anAffineTransform);
<a name="l00291"></a>00291     
<a name="l00292"></a>00292     _CALayerRecalculateGeometry(<span class="keyword">self</span>, <a class="code" href="_c_a_layer_8j.html#af551f56d2ec1637a4dd3b8e6672d284e">CALayerGeometryAffineTransformMask</a>);
<a name="l00293"></a>00293 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3278f0312f7ab10c42f1f5b0f7d00ed8"></a><!-- doxytag: member="CALayer::setAnchorPoint:" ref="a3278f0312f7ab10c42f1f5b0f7d00ed8" args="(CGPoint anAnchorPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setAnchorPoint: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>anAnchorPoint</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the layer's anchor point. The default point is [0.5, 0.5]. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>anAnchorPoint</em>&nbsp;</td><td>the layer's new anchor point </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00253">253</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00253"></a>00253                       :(CGPoint)anAnchorPoint
<a name="l00254"></a>00254 {
<a name="l00255"></a>00255     anAnchorPoint = _CGPointMakeCopy(anAnchorPoint);
<a name="l00256"></a>00256     anAnchorPoint.x = MIN(1.0, MAX(0.0, anAnchorPoint.x));
<a name="l00257"></a>00257     anAnchorPoint.y = MIN(1.0, MAX(0.0, anAnchorPoint.y));
<a name="l00258"></a>00258     
<a name="l00259"></a>00259     <span class="keywordflow">if</span> (<a class="code" href="_c_g_geometry_8j.html#a92e2504d7631188e8c340f9462dd80d9">CGPointEqualToPoint</a>(_anchorPoint, anAnchorPoint))
<a name="l00260"></a>00260         <span class="keywordflow">return</span>;
<a name="l00261"></a>00261     
<a name="l00262"></a>00262     _anchorPoint = anAnchorPoint;
<a name="l00263"></a>00263     
<a name="l00264"></a>00264     <span class="keywordflow">if</span> (_hasSublayerTransform)
<a name="l00265"></a>00265         _CALayerUpdateSublayerTransformForSublayers(<span class="keyword">self</span>);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267     <span class="keywordflow">if</span> (_owningView)
<a name="l00268"></a>00268         _position = <a class="code" href="_c_g_geometry_8j.html#a06c96cb5931220da52ff44b8ce9b603e">CGPointMake</a>(_CGRectGetWidth(_bounds) * _anchorPoint.x, _CGRectGetHeight(_bounds) * _anchorPoint.y);
<a name="l00269"></a>00269     
<a name="l00270"></a>00270     _CALayerRecalculateGeometry(<span class="keyword">self</span>, <a class="code" href="_c_a_layer_8j.html#a4481f9da252746e5b81eb67af6f9d0f8">CALayerGeometryAnchorPointMask</a>);
<a name="l00271"></a>00271 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a48f508ebdf9fb5ecb21042d691734a62"></a><!-- doxytag: member="CALayer::setBackgroundColor:" ref="a48f508ebdf9fb5ecb21042d691734a62" args="(CPColor aColor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setBackgroundColor: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="class_c_p_color.html">CPColor</a>)&nbsp;</td>
          <td class="paramname"> <em>aColor</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the layer's background color. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aColor</em>&nbsp;</td><td>the new background color </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00615">615</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00615"></a>00615                           :(<a class="code" href="class_c_p_color.html">CPColor</a>)aColor
<a name="l00616"></a>00616 {
<a name="l00617"></a>00617     _backgroundColor = aColor;
<a name="l00618"></a>00618     
<a name="l00619"></a>00619     [<span class="keyword">self</span> <a class="code" href="class_c_a_layer.html#a3e6e077d5d09abe55d41c4a83ba958a2">setNeedsDisplay</a>];
<a name="l00620"></a>00620 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0487576422eaa56f1b070df34f357a55"></a><!-- doxytag: member="CALayer::setBackingStoreFrame:" ref="a0487576422eaa56f1b070df34f357a55" args="(CGRect aFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setBackingStoreFrame: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aFrame</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the frame's backing store. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aFrame</em>&nbsp;</td><td>the new backing store. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00388">388</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00388"></a>00388                             :(CGRect)aFrame
<a name="l00389"></a>00389 {
<a name="l00390"></a>00390     _hasCustomBackingStoreFrame = (aFrame != nil);
<a name="l00391"></a>00391     
<a name="l00392"></a>00392     <span class="keywordflow">if</span> (aFrame == nil)
<a name="l00393"></a>00393         aFrame = <a class="code" href="_c_g_geometry_8j.html#a7521362038d81fa55cafbd6da5130335">CGRectMakeCopy</a>(_standardBackingStoreFrame);
<a name="l00394"></a>00394     <span class="keywordflow">else</span>
<a name="l00395"></a>00395     {
<a name="l00396"></a>00396         <span class="keywordflow">if</span> (_superlayer)
<a name="l00397"></a>00397         {
<a name="l00398"></a>00398             aFrame = [_superlayer convertRect:aFrame toLayer:nil];
<a name="l00399"></a>00399             
<a name="l00400"></a>00400             var <a class="code" href="class_c_a_layer.html#a3b4a675ebb6097d357586a278472483c">bounds</a> = [_superlayer bounds],
<a name="l00401"></a>00401                 <a class="code" href="class_c_a_layer.html#aec1346c32960eec23d6d37df877a196c">frame</a> = [_superlayer convertRect:bounds toLayer:nil];
<a name="l00402"></a>00402             
<a name="l00403"></a>00403             aFrame.origin.x -= _CGRectGetMinX(<a class="code" href="class_c_a_layer.html#aec1346c32960eec23d6d37df877a196c">frame</a>);
<a name="l00404"></a>00404             aFrame.origin.y -= _CGRectGetMinY(<a class="code" href="class_c_a_layer.html#aec1346c32960eec23d6d37df877a196c">frame</a>);
<a name="l00405"></a>00405         }
<a name="l00406"></a>00406         <span class="keywordflow">else</span>
<a name="l00407"></a>00407             aFrame = <a class="code" href="_c_g_geometry_8j.html#a7521362038d81fa55cafbd6da5130335">CGRectMakeCopy</a>(aFrame);
<a name="l00408"></a>00408     }
<a name="l00409"></a>00409     
<a name="l00410"></a>00410     <span class="keywordflow">if</span> (!<a class="code" href="_c_g_geometry_8j.html#a92e2504d7631188e8c340f9462dd80d9">CGPointEqualToPoint</a>(_backingStoreFrame.origin, aFrame.origin))
<a name="l00411"></a>00411         [<span class="keyword">self</span> registerRunLoopUpdateWithMask:<a class="code" href="_c_a_layer_8j.html#aaf1285d3b64e902c2c83bb85b7937e31">CALayerFrameOriginUpdateMask</a>];
<a name="l00412"></a>00412         
<a name="l00413"></a>00413     <span class="keywordflow">if</span> (!<a class="code" href="_c_g_geometry_8j.html#a1eefbb30f35d5c4f4473bec9a2ebff9f">CGSizeEqualToSize</a>(_backingStoreFrame.size, aFrame.size))
<a name="l00414"></a>00414         [<span class="keyword">self</span> registerRunLoopUpdateWithMask:<a class="code" href="_c_a_layer_8j.html#a59e67f97b348d19a1eedb5fc71c97132">CALayerFrameSizeUpdateMask</a>];
<a name="l00415"></a>00415         
<a name="l00416"></a>00416     _backingStoreFrame = aFrame;
<a name="l00417"></a>00417 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab83346bff051219122826ae87b77da63"></a><!-- doxytag: member="CALayer::setBounds:" ref="ab83346bff051219122826ae87b77da63" args="(CGRect aBounds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setBounds: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aBounds</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the bounds (origin and size) of the rectangle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aBounds</em>&nbsp;</td><td>the new bounds for the layer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00180">180</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00180"></a>00180                  :(CGRect)aBounds
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182     <span class="keywordflow">if</span> (<a class="code" href="_c_g_geometry_8j.html#ab2c7317de643eac257976b886fc932e8">CGRectEqualToRect</a>(_bounds, aBounds))
<a name="l00183"></a>00183         <span class="keywordflow">return</span>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     var oldOrigin = _bounds.origin;
<a name="l00186"></a>00186 
<a name="l00187"></a>00187     _bounds = _CGRectMakeCopy(aBounds);
<a name="l00188"></a>00188     
<a name="l00189"></a>00189     <span class="keywordflow">if</span> (_hasSublayerTransform)
<a name="l00190"></a>00190         _CALayerUpdateSublayerTransformForSublayers(<span class="keyword">self</span>);
<a name="l00191"></a>00191         
<a name="l00192"></a>00192     <span class="comment">// _hasSublayerTransform == true will handle this for us.</span>
<a name="l00193"></a>00193     <span class="comment">/*else if (!CGPointEqualToPoint(_bounds.origin, oldOrigin))</span>
<a name="l00194"></a>00194 <span class="comment">    {</span>
<a name="l00195"></a>00195 <span class="comment">        var index = _sublayers.length;</span>
<a name="l00196"></a>00196 <span class="comment">        </span>
<a name="l00197"></a>00197 <span class="comment">        // FIXME: This should climb the layer tree down.</span>
<a name="l00198"></a>00198 <span class="comment">        while (index--)</span>
<a name="l00199"></a>00199 <span class="comment">            _CALayerRecalculateGeometry(_sublayers[index], CALayerGeometryPositionMask);</span>
<a name="l00200"></a>00200 <span class="comment">    }*/</span>
<a name="l00201"></a>00201     
<a name="l00202"></a>00202     _CALayerRecalculateGeometry(<span class="keyword">self</span>, <a class="code" href="_c_a_layer_8j.html#a9d7b1c58912534373644657a8e532d5c">CALayerGeometryBoundsMask</a>);
<a name="l00203"></a>00203 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a70e448233f13f081e5d4848556dda17d"></a><!-- doxytag: member="CALayer::setContents:" ref="a70e448233f13f081e5d4848556dda17d" args="(CGImage contents)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setContents: </td>
          <td></td>
          <td class="paramtype">(CGImage)&nbsp;</td>
          <td class="paramname"> <em>contents</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the image contents of this layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>contents</em>&nbsp;</td><td>the image to display </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00433">433</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00433"></a>00433                    :(CGImage)<a class="code" href="class_c_a_layer.html#a9b79362a38e353ac64c338c979645e1b">contents</a>
<a name="l00434"></a>00434 {
<a name="l00435"></a>00435     <span class="keywordflow">if</span> (_contents == <a class="code" href="class_c_a_layer.html#a9b79362a38e353ac64c338c979645e1b">contents</a>)
<a name="l00436"></a>00436         <span class="keywordflow">return</span>;
<a name="l00437"></a>00437         
<a name="l00438"></a>00438     _contents = <a class="code" href="class_c_a_layer.html#a9b79362a38e353ac64c338c979645e1b">contents</a>;
<a name="l00439"></a>00439        
<a name="l00440"></a>00440     [<span class="keyword">self</span> <a class="code" href="class_c_a_layer.html#a0ca648303d1edf497cb522400afff95c">composite</a>];
<a name="l00441"></a>00441 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6c363814185fd280be2854d98ce9a19f"></a><!-- doxytag: member="CALayer::setDelegate:" ref="a6c363814185fd280be2854d98ce9a19f" args="(id aDelegate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setDelegate: </td>
          <td></td>
          <td class="paramtype">(id)&nbsp;</td>
          <td class="paramname"> <em>aDelegate</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the delegate for this layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDelegate</em>&nbsp;</td><td>the delegate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00949">949</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00949"></a>00949                    :(id)aDelegate
<a name="l00950"></a>00950 {
<a name="l00951"></a>00951     <span class="keywordflow">if</span> (_delegate == aDelegate)
<a name="l00952"></a>00952         <span class="keywordflow">return</span>;
<a name="l00953"></a>00953     
<a name="l00954"></a>00954     _delegate = aDelegate;
<a name="l00955"></a>00955     
<a name="l00956"></a>00956     _delegateRespondsToDisplayLayerSelector         = [_delegate respondsToSelector:<span class="keyword">@selector</span>(displayLayer:)];
<a name="l00957"></a>00957     _delegateRespondsToDrawLayerInContextSelector   = [_delegate respondsToSelector:<span class="keyword">@selector</span>(drawLayer:inContext:)];
<a name="l00958"></a>00958     
<a name="l00959"></a>00959     <span class="keywordflow">if</span> (_delegateRespondsToDisplayLayerSelector || _delegateRespondsToDrawLayerInContextSelector)
<a name="l00960"></a>00960         [<span class="keyword">self</span> <a class="code" href="class_c_a_layer.html#a3e6e077d5d09abe55d41c4a83ba958a2">setNeedsDisplay</a>];
<a name="l00961"></a>00961 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af2e344de4f27180679fcddce494daaef"></a><!-- doxytag: member="CALayer::setFrame:" ref="af2e344de4f27180679fcddce494daaef" args="(CGRect aFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setFrame: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aFrame</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the frame of the layer. The frame defines a bounding rectangle in the superlayer's coordinate system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aFrame</em>&nbsp;</td><td>the new frame rectangle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00351">351</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00351"></a>00351                 :(CGRect)aFrame
<a name="l00352"></a>00352 {
<a name="l00353"></a>00353     alert(<span class="stringliteral">&quot;FIXME IMPLEMENT&quot;</span>);
<a name="l00354"></a>00354 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af4d75e6699c3bc53248bc96f422de327"></a><!-- doxytag: member="CALayer::setHidden:" ref="af4d75e6699c3bc53248bc96f422de327" args="(BOOL isHidden)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setHidden: </td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>isHidden</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets whether the layer is hidden. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>isHidden</em>&nbsp;</td><td><code>YES</code> means the layer will be hidden. <code>NO</code> means the layer will be visible. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00576">576</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00576"></a>00576                  :(BOOL)<a class="code" href="class_c_a_layer.html#a66a927d05868179a9c993abe50b35f96">isHidden</a>
<a name="l00577"></a>00577 {
<a name="l00578"></a>00578     _isHidden = <a class="code" href="class_c_a_layer.html#a66a927d05868179a9c993abe50b35f96">isHidden</a>;
<a name="l00579"></a>00579     _DOMElement.style.display = <a class="code" href="class_c_a_layer.html#a66a927d05868179a9c993abe50b35f96">isHidden</a> ? <span class="stringliteral">&quot;none&quot;</span> : <span class="stringliteral">&quot;block&quot;</span>;
<a name="l00580"></a>00580 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3bd6c0754ecad30e49098491baa82d41"></a><!-- doxytag: member="CALayer::setMasksToBounds:" ref="a3bd6c0754ecad30e49098491baa82d41" args="(BOOL masksToBounds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setMasksToBounds: </td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>masksToBounds</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets whether content that goes lies outside the bounds is hidden or visible. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>masksToBounds</em>&nbsp;</td><td><code>YES</code> hides the excess content. <code>NO</code> makes it visible. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00602">602</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00602"></a>00602                         :(BOOL)masksToBounds
<a name="l00603"></a>00603 {
<a name="l00604"></a>00604     <span class="keywordflow">if</span> (_masksToBounds == masksToBounds)
<a name="l00605"></a>00605         <span class="keywordflow">return</span>;
<a name="l00606"></a>00606     
<a name="l00607"></a>00607     _masksToBounds = masksToBounds;
<a name="l00608"></a>00608     _DOMElement.style.overflow = _masksToBounds ? <span class="stringliteral">&quot;hidden&quot;</span> : <span class="stringliteral">&quot;visible&quot;</span>;
<a name="l00609"></a>00609 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9c0c8c3d8dceff2a9dcc8c2b671c5b05"></a><!-- doxytag: member="CALayer::setNeedsComposite" ref="a9c0c8c3d8dceff2a9dcc8c2b671c5b05" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setNeedsComposite </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00822">822</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00823"></a>00823 {
<a name="l00824"></a>00824     [<span class="keyword">self</span> registerRunLoopUpdateWithMask:<a class="code" href="_c_a_layer_8j.html#a0d8d5fbf9708caaee8b1b1147e7ed988">CALayerCompositeUpdateMask</a>];
<a name="l00825"></a>00825 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e6e077d5d09abe55d41c4a83ba958a2"></a><!-- doxytag: member="CALayer::setNeedsDisplay" ref="a3e6e077d5d09abe55d41c4a83ba958a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setNeedsDisplay </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Marks the layer as needing to be redrawn. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00830">830</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00831"></a>00831 {
<a name="l00832"></a>00832     [<span class="keyword">self</span> registerRunLoopUpdateWithMask:<a class="code" href="_c_a_layer_8j.html#aea3fa0c520450b903260bc7d7d91e873">CALayerDisplayUpdateMask</a>];
<a name="l00833"></a>00833 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa35dd2b1254d2370842988a6f8198e12"></a><!-- doxytag: member="CALayer::setNeedsDisplayInRect:" ref="aa35dd2b1254d2370842988a6f8198e12" args="(CGRect aRect)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setNeedsDisplayInRect: </td>
          <td></td>
          <td class="paramtype">(CGRect)&nbsp;</td>
          <td class="paramname"> <em>aRect</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Marks the specified rectange as needing to be redrawn. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aRect</em>&nbsp;</td><td>the area that needs to be redrawn. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00856">856</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00856"></a>00856                              :(CGRect)aRect
<a name="l00857"></a>00857 {
<a name="l00858"></a>00858     _dirtyRect = aRect;
<a name="l00859"></a>00859     [<span class="keyword">self</span> <a class="code" href="class_c_a_layer.html#a7557b5b724e9fb8d705d9978cd31e760">display</a>];
<a name="l00860"></a>00860 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a23334a5dae089c3c757d2296e59a6748"></a><!-- doxytag: member="CALayer::setNeedsDisplayOnBoundsChange:" ref="a23334a5dae089c3c757d2296e59a6748" args="(BOOL needsDisplayOnBoundsChange)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setNeedsDisplayOnBoundsChange: </td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>needsDisplayOnBoundsChange</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets whether the layer needs to be redrawn when its bounds are changed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>needsDisplayOnBoundsChange</em>&nbsp;</td><td><code>YES</code> means the display is redraw on a bounds change. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00839">839</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00839"></a>00839                                      :(BOOL)<a class="code" href="class_c_a_layer.html#a56af4982ce5f2166f4d0197d993216bc">needsDisplayOnBoundsChange</a>
<a name="l00840"></a>00840 {
<a name="l00841"></a>00841     _needsDisplayOnBoundsChange = <a class="code" href="class_c_a_layer.html#a56af4982ce5f2166f4d0197d993216bc">needsDisplayOnBoundsChange</a>;
<a name="l00842"></a>00842 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4166632f6706a9028a3a43eed9b646d1"></a><!-- doxytag: member="CALayer::setOpacity:" ref="a4166632f6706a9028a3a43eed9b646d1" args="(float anOpacity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setOpacity: </td>
          <td></td>
          <td class="paramtype">(float)&nbsp;</td>
          <td class="paramname"> <em>anOpacity</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the opacity for the layer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>anOpacity</em>&nbsp;</td><td>the new opacity (between <code>0.0</code> (transparent) and <code>1.0</code> (opaque)). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00561">561</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00561"></a>00561                   :(float)anOpacity
<a name="l00562"></a>00562 {
<a name="l00563"></a>00563     <span class="keywordflow">if</span> (_opacity == anOpacity)
<a name="l00564"></a>00564         <span class="keywordflow">return</span>;
<a name="l00565"></a>00565     
<a name="l00566"></a>00566     _opacity = anOpacity;
<a name="l00567"></a>00567     
<a name="l00568"></a>00568     _DOMElement.style.opacity = anOpacity;
<a name="l00569"></a>00569     _DOMElement.style.filter = <span class="stringliteral">&quot;alpha(opacity=&quot;</span> + anOpacity * 100 + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00570"></a>00570 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a780ade74d12340c78544a200283d0e73"></a><!-- doxytag: member="CALayer::setPosition:" ref="a780ade74d12340c78544a200283d0e73" args="(CGPoint aPosition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setPosition: </td>
          <td></td>
          <td class="paramtype">(CGPoint)&nbsp;</td>
          <td class="paramname"> <em>aPosition</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the layer's position. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aPosition</em>&nbsp;</td><td>the layer's new position </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00217">217</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00217"></a>00217                    :(CGPoint)aPosition
<a name="l00218"></a>00218 {
<a name="l00219"></a>00219     <span class="keywordflow">if</span> (<a class="code" href="_c_g_geometry_8j.html#a92e2504d7631188e8c340f9462dd80d9">CGPointEqualToPoint</a>(_position, aPosition))
<a name="l00220"></a>00220         <span class="keywordflow">return</span>;
<a name="l00221"></a>00221     
<a name="l00222"></a>00222     _position = _CGPointMakeCopy(aPosition);
<a name="l00223"></a>00223     
<a name="l00224"></a>00224     _CALayerRecalculateGeometry(<span class="keyword">self</span>, <a class="code" href="_c_a_layer_8j.html#ac9837ddcbab2fccd293e6c8d9a5d78b3">CALayerGeometryPositionMask</a>);
<a name="l00225"></a>00225 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a29ba21b392a078fd1c0a2d1d968c4fa9"></a><!-- doxytag: member="CALayer::setSublayerTransform:" ref="a29ba21b392a078fd1c0a2d1d968c4fa9" args="(CGAffineTransform anAffineTransform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setSublayerTransform: </td>
          <td></td>
          <td class="paramtype">(CGAffineTransform)&nbsp;</td>
          <td class="paramname"> <em>anAffineTransform</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the affine transform that gets applied to all the sublayers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>anAffineTransform</em>&nbsp;</td><td>the transform to apply to sublayers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00307">307</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00307"></a>00307                             :(CGAffineTransform)anAffineTransform
<a name="l00308"></a>00308 {
<a name="l00309"></a>00309     <span class="keywordflow">if</span> (<a class="code" href="_c_g_affine_transform_8j.html#a13fc4eb44a96f08f758b22b47be24224">CGAffineTransformEqualToTransform</a>(_sublayerTransform, anAffineTransform))
<a name="l00310"></a>00310         <span class="keywordflow">return</span>;
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     var hadSublayerTransform = _hasSublayerTransform;
<a name="l00313"></a>00313     
<a name="l00314"></a>00314     _sublayerTransform = _CGAffineTransformMakeCopy(anAffineTransform);
<a name="l00315"></a>00315     _hasSublayerTransform = !_CGAffineTransformIsIdentity(_sublayerTransform);
<a name="l00316"></a>00316     
<a name="l00317"></a>00317     <span class="keywordflow">if</span> (_hasSublayerTransform)
<a name="l00318"></a>00318     {
<a name="l00319"></a>00319         _CALayerUpdateSublayerTransformForSublayers(<span class="keyword">self</span>);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321         var index = _sublayers.length;
<a name="l00322"></a>00322         
<a name="l00323"></a>00323         <span class="comment">// FIXME: This should climb the layer tree down.</span>
<a name="l00324"></a>00324         <span class="keywordflow">while</span> (index--)
<a name="l00325"></a>00325             _CALayerRecalculateGeometry(_sublayers[index], <a class="code" href="_c_a_layer_8j.html#afafdb56b39f5840584dabc52cac0a9a7">CALayerGeometryParentSublayerTransformMask</a>);
<a name="l00326"></a>00326     }
<a name="l00327"></a>00327 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a83df7dcca0a2a28c39fdc727049fc378"></a><!-- doxytag: member="CALayer::setZPosition:" ref="a83df7dcca0a2a28c39fdc727049fc378" args="(int aZPosition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setZPosition: </td>
          <td></td>
          <td class="paramtype">(int)&nbsp;</td>
          <td class="paramname"> <em>aZPosition</em></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the layer's z-ordering. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aZPosition</em>&nbsp;</td><td>the layer's new z-ordering </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00239">239</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00239"></a>00239                     :(int)aZPosition
<a name="l00240"></a>00240 {
<a name="l00241"></a>00241     <span class="keywordflow">if</span> (_zPosition == aZPosition)
<a name="l00242"></a>00242         <span class="keywordflow">return</span>;
<a name="l00243"></a>00243     
<a name="l00244"></a>00244     _zPosition = aZPosition;
<a name="l00245"></a>00245     
<a name="l00246"></a>00246     [<span class="keyword">self</span> registerRunLoopUpdateWithMask:<a class="code" href="_c_a_layer_8j.html#acd4260da148e61285fdf91c10bf2e661">CALayerZPositionUpdateMask</a>];
<a name="l00247"></a>00247 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6be4902ae5344bb33854c8b2d4bea365"></a><!-- doxytag: member="CALayer::sublayers" ref="a6be4902ae5344bb33854c8b2d4bea365" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CPArray) sublayers </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an array of the receiver's sublayers. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00634">634</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00635"></a>00635 {
<a name="l00636"></a>00636     <span class="keywordflow">return</span> _sublayers;
<a name="l00637"></a>00637 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21dce1e6a753bb1a042d457052a8a765"></a><!-- doxytag: member="CALayer::sublayerTransform" ref="a21dce1e6a753bb1a042d457052a8a765" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGAffineTransform) sublayerTransform </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the affine transform applied to the sublayers. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00332">332</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00333"></a>00333 {
<a name="l00334"></a>00334     <span class="keywordflow">return</span> _sublayerTransform;
<a name="l00335"></a>00335 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a878e05181085d8860efd761330581032"></a><!-- doxytag: member="CALayer::superlayer" ref="a878e05181085d8860efd761330581032" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="class_c_a_layer.html">CALayer</a>) superlayer </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the receiver's superlayer. </p>

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00642">642</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00643"></a>00643 {
<a name="l00644"></a>00644     <span class="keywordflow">return</span> _superlayer;
<a name="l00645"></a>00645 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3143b9efe061d28239232dd4bcdf0a36"></a><!-- doxytag: member="CALayer::transformToLayer" ref="a3143b9efe061d28239232dd4bcdf0a36" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (CGAffineTransform) transformToLayer </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td><code> [implementation]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_layer_8j_source.html#l00341">341</a> of file <a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00342"></a>00342 {
<a name="l00343"></a>00343     <span class="keywordflow">return</span> _transformToLayer;
<a name="l00344"></a>00344 }
</pre></div></p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/raphael/Development/public/ForkedProjects/cappuccino/source/AppKit/CoreAnimation/<a class="el" href="_c_a_layer_8j_source.html">CALayer.j</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
